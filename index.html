<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CDEC Training Update</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
  .container { max-width: 900px; margin: auto; }
  .card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-top: 20px; }
  h1 { color: #2c3e50; }
  label { display: block; margin-top: 10px; font-weight: bold; }
  select, input[type="checkbox"] { margin-top: 5px; }
  .topics-list { margin-left: 20px; margin-top: 10px; }
  button { margin-top: 15px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>

<div class="container">
  <h1>📚 CDEC Training Update Form</h1>

  <!-- Module Selection -->
  <label for="module">Select Module:</label>
  <select id="module" onchange="resetDayAndTopics()">
    <option value="">-- Select Module --</option>
    <option value="DevOps">DevOps</option>
    <option value="AWS">AWS</option>
    <option value="Linux">Linux</option>
  </select>

  <!-- Day Selection -->
  <label for="day">Select Training Day:</label>
  <select id="day" onchange="resetTopics()">
    <option value="">-- Select Day --</option>
  </select>

  <!-- Topics Selection -->
  <label>Topics Covered:</label>
  <div id="topics" class="topics-list">
    <!-- Empty: User will manually input topics or select checkboxes if added later -->
  </div>

  <!-- Generate Button -->
  <button onclick="generateUpdate()">Generate Training Update</button>

  <!-- Output Card -->
  <div id="output" class="card" style="display:none;"></div>
</div>

<script>
// Populate day dropdown (1-50) dynamically
window.addEventListener('DOMContentLoaded', () => {
  const daySelect = document.getElementById('day');
  for (let i = 1; i <= 50; i++) {
    const option = document.createElement('option');
    option.value = `Day ${i}`;
    option.text = `Day ${i}`;
    daySelect.appendChild(option);
  }
});

// Reset day and topics when module changes
function resetDayAndTopics() {
  document.getElementById('day').value = "";
  document.getElementById('topics').innerHTML = "";
  document.getElementById('output').style.display = 'none';
}

// Reset topics when day changes
function resetTopics() {
  document.getElementById('topics').innerHTML = "";
  document.getElementById('output').style.display = 'none';
}

// Generate training update card
function generateUpdate() {
  const module = document.getElementById('module').value;
  const day = document.getElementById('day').value;
  const trainer = "Abhipray Dhoble";
  const batch = "OnCDEC-b29";
  const mode = "Online";
  const date = new Date().toISOString().split('T')[0];

  if (!module) {
    alert("Please select a module");
    return;
  }

  if (!day) {
    alert("Please select a day");
    return;
  }

  // Get topics entered by user (optional: you can replace this with checkboxes if needed)
  let topics = [];
  document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => topics.push(cb.value));

  // If no checkboxes, leave topics empty
  const topicsHTML = topics.length > 0 ? topics.map(t => `<li>${t}</li>`).join('') : "<li>No topics selected</li>";

  const html = `
    <h1>📚 CDEC Training Update</h1>
    <p>📅 <strong>Training date:</strong> ${date}</p>
    <p>👨‍🏫 <strong>Instructor name:</strong> ${trainer}</p>
    <p>👥 <strong>Batch name:</strong> ${batch}</p>
    <p>💻 <strong>Training mode:</strong> ${mode}</p>
    <p>📖 <strong>Course module:</strong> ${module}</p>
    <p>📑 <strong>Module section:</strong> ${day}</p>
    <p>✅ <strong>Attendance:</strong> ${students}</p>
    <h3>📋 Topics Covered:</h3>
    <ul>
      ${topicsHTML}
    </ul>
    <footer>_Generated by CDEC Training Management System_</footer>
  `;

  const outputDiv = document.getElementById('output');
  outputDiv.innerHTML = html;
  outputDiv.style.display = 'block';
}
</script>

</body>
</html>
